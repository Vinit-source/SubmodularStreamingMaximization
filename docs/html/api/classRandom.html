

<!DOCTYPE html>
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Class Random &mdash; SubmodularStreamMaximization  documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../_static/css/theme.min.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/custom.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/theme.min.css" type="text/css" />
  <link rel="stylesheet" href="../_static/collapsible-lists/css/tree_view.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Class RBFKernel" href="classRBFKernel.html" />
    <link rel="prev" title="Class PySubmodularFunction" href="classPySubmodularFunction.html" /> 

</head>

<body>
    <header>
        <div class="container">
            <a class="site-nav-toggle hidden-lg-up"><i class="icon-menu"></i></a>
            <a class="site-title" href="../index.html">
                SubmodularStreamMaximization
            </a>
        </div>
    </header>


<div class="breadcrumbs-outer hidden-xs-down">
    <div class="container">
        















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="breadcrumbs">
    
      <li><a href="../index.html">Docs</a></li>
        
          <li><a href="library_root.html">Library API</a></li>
        
      <li>Class Random</li>
    
    
      <li class="breadcrumbs-aside">
        
            
            <a href="../_sources/api/classRandom.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>
</div>
    </div>
</div>
    <div class="main-outer">
        <div class="container">
            <div class="row">
                <div class="col-12 col-lg-3 site-nav">
                    
<div role="search">
    <form class="search" action="../search.html" method="get">
        <div class="icon-input">
            <input type="text" name="q" placeholder="Search" />
            <span class="icon-search"></span>
        </div>
        <input type="submit" value="Go" class="d-hidden" />
        <input type="hidden" name="check_keywords" value="yes" />
        <input type="hidden" name="area" value="default" />
    </form>
</div>
                    <div class="site-nav-tree">
                        
                            
                            
                                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../root.html">SubmodularStreamMaximization</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../root.html#how-to-install">How to install</a></li>
<li class="toctree-l2"><a class="reference internal" href="../root.html#how-to-reproduce-the-experiments-in-our-paper">How to reproduce the experiments in our paper</a></li>
<li class="toctree-l2"><a class="reference internal" href="../root.html#cite-our-paper">Cite our paper</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../python.html">Using the Python Interface</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../python.html#implementing-a-custom-kernel-for-the-ivm">Implementing a custom kernel for the IVM</a></li>
<li class="toctree-l2"><a class="reference internal" href="../python.html#implementing-custom-submodular-functions">Implementing custom submodular functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../python.html#implementing-your-own-optimizer">Implementing your own optimizer</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../cpp.html">Using the C++ interface</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../cpp.html#implementing-a-custom-kernel-for-the-ivm">Implementing a custom kernel for the IVM</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cpp.html#implementing-custom-submodular-functions">Implementing custom submodular functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cpp.html#implementing-your-own-optimizer">Implementing your own optimizer</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="library_root.html">Library API</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="library_root.html#class-hierarchy">Class Hierarchy</a></li>
<li class="toctree-l2"><a class="reference internal" href="library_root.html#file-hierarchy">File Hierarchy</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="library_root.html#full-api">Full API</a></li>
</ul>
</li>
</ul>

                            
                        
                    </div>
                </div>
                <div class="col-12 col-lg-9">
                    <div class="document">
                        
                            
  <div class="section" id="class-random">
<span id="exhale-class-classrandom"></span><h1>Class Random<a class="headerlink" href="#class-random" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><p>Defined in <a class="reference internal" href="file_include_Random.h.html#file-include-random-h"><span class="std std-ref">File Random.h</span></a></p></li>
</ul>
<div class="section" id="inheritance-relationships">
<h2>Inheritance Relationships<a class="headerlink" href="#inheritance-relationships" title="Permalink to this headline">¶</a></h2>
<div class="section" id="base-type">
<h3>Base Type<a class="headerlink" href="#base-type" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">public</span> <span class="pre">SubmodularOptimizer</span></code> (<a class="reference internal" href="classSubmodularOptimizer.html#exhale-class-classsubmodularoptimizer"><span class="std std-ref">Class SubmodularOptimizer</span></a>)</p></li>
</ul>
</div>
</div>
<div class="section" id="class-documentation">
<h2>Class Documentation<a class="headerlink" href="#class-documentation" title="Permalink to this headline">¶</a></h2>
<dl class="cpp class">
<dt class="sig sig-object cpp" id="_CPPv46Random">
<span id="_CPPv36Random"></span><span id="_CPPv26Random"></span><span id="Random"></span><span class="target" id="classRandom"></span><span class="k"><span class="pre">class</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">Random</span></span></span><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="k"><span class="pre">public</span></span><span class="w"> </span><a class="reference internal" href="classSubmodularOptimizer.html#_CPPv419SubmodularOptimizer" title="SubmodularOptimizer"><span class="n"><span class="pre">SubmodularOptimizer</span></span></a><a class="headerlink" href="#_CPPv46Random" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>The <a class="reference internal" href="#classRandom"><span class="std std-ref">Random</span></a> Optimizers for submodular functions. It randomly picks <span class="math notranslate nohighlight">\( K \)</span> elements as a solution. For streaming, Reservoir Sampling is used. Feige et al. showed that a uniform random sample for unconstrained is a 1/4 approximation in expectation, but for constraint maximization problems no such result is known. </p>
<p><ul class="simple">
<li><p>Stream: Yes</p></li>
<li><p>Solution: no guarantee</p></li>
<li><p>Runtime: <span class="math notranslate nohighlight">\( O(N) \)</span></p></li>
<li><p>Memory: <span class="math notranslate nohighlight">\( O(K) \)</span></p></li>
<li><p>Function Queries per Element: <span class="math notranslate nohighlight">\( O(1) \)</span> (In case of Reservoir Sampling to maintain a consistent function value)</p></li>
<li><p>Function Types: nonnegative submodular functions</p></li>
</ul>
</p>
<p>Example usage in C++: <div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//read some data </span>
<span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">data_t</span><span class="o">&gt;&gt;</span> <span class="o">=</span> <span class="n">read_some_data</span><span class="p">();</span> 
<span class="k">auto</span> <span class="n">K</span> <span class="o">=</span> <span class="mi">50</span><span class="p">;</span>
<span class="c1">// Define the function to be maximized and select the summary</span>
<span class="n">FastIVM</span> <span class="nf">fastIVM</span><span class="p">(</span><span class="n">K</span><span class="p">,</span> <span class="n">RBFKernel</span><span class="p">(</span> <span class="n">std</span><span class="o">::</span><span class="n">sqrt</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">size</span><span class="p">()),</span> <span class="mf">1.0</span><span class="p">)</span> <span class="p">,</span> <span class="mf">1.0</span><span class="p">);</span>
<span class="n">Random</span> <span class="nf">opt</span><span class="p">(</span><span class="n">K</span><span class="p">,</span> <span class="n">fastIVM</span><span class="p">);</span>
<span class="n">opt</span><span class="p">.</span><span class="n">fit</span><span class="p">(</span><span class="n">data</span><span class="p">);</span>
<span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;fval:&quot;</span> <span class="o">&lt;&lt;</span> <span class="n">opt</span><span class="p">.</span><span class="n">get_fval</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;num_elements: &quot;</span> <span class="o">&lt;&lt;</span> <span class="n">opt</span><span class="p">.</span><span class="n">get_num_elements_stored</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;num_candidates: &quot;</span> <span class="o">&lt;&lt;</span> <span class="n">opt</span><span class="p">.</span><span class="n">get_num_candidate_solutions</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="c1">// Process summary</span>
<span class="k">auto</span> <span class="n">summary</span> <span class="o">=</span> <span class="n">opt</span><span class="p">.</span><span class="n">get_solution</span><span class="p">();</span>
</pre></div>
</div>
</p>
<p>Example usage in Python: <div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">X</span> <span class="o">=</span> <span class="n">read_some_data</span><span class="p">();</span> 
<span class="n">K</span> <span class="o">=</span> <span class="mi">50</span>
<span class="cp"># Create function to be maximized</span>
<span class="n">kernel</span> <span class="o">=</span> <span class="n">RBFKernel</span><span class="p">(</span><span class="n">sigma</span><span class="o">=</span><span class="n">sigma</span><span class="p">,</span><span class="n">scale</span><span class="o">=</span><span class="n">scale</span><span class="p">)</span>
<span class="n">fastLogDet</span> <span class="o">=</span> <span class="n">FastIVM</span><span class="p">(</span><span class="n">K</span><span class="p">,</span> <span class="n">kernel</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>
<span class="n">opt</span> <span class="o">=</span> <span class="n">Random</span><span class="p">(</span><span class="n">K</span><span class="p">,</span> <span class="n">fastLogDet</span><span class="p">)</span>
<span class="n">opt</span><span class="p">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">K</span><span class="p">)</span>
<span class="n">print</span><span class="p">(</span><span class="s">&quot;fval: {} num_elements: {} num_candidates: {}&quot;</span><span class="p">.</span><span class="n">format</span><span class="p">(</span><span class="n">opt</span><span class="p">.</span><span class="n">get_fval</span><span class="p">(),</span> <span class="n">opt</span><span class="p">.</span><span class="n">get_num_elements_stored</span><span class="p">(),</span> <span class="n">opt</span><span class="p">.</span><span class="n">get_num_candidate_solutions</span><span class="p">()))</span>
<span class="cp"># process summary</span>
<span class="n">summary</span> <span class="o">=</span> <span class="n">opt</span><span class="p">.</span><span class="n">get_solution</span><span class="p">()</span>
</pre></div>
</div>
</p>
<p><strong>References</strong>:</p>
<p><ul class="simple">
<li><p>Feige, U., Mirrokni, V. S., &amp; Vondrák, J. (2011). Maximizing non-monotone submodular functions. SIAM Journal on Computing. <a class="reference external" href="https://doi.org/10.1137/090779346">https://doi.org/10.1137/090779346</a></p></li>
<li><p>Vitter, J. S. (1985). <a class="reference internal" href="#classRandom"><span class="std std-ref">Random</span></a> Sampling with a Reservoir. ACM Transactions on Mathematical Software (TOMS). <a class="reference external" href="https://doi.org/10.1145/3147.3165">https://doi.org/10.1145/3147.3165</a> </p></li>
</ul>
</p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-functions">Public Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N6Random6RandomEjR18SubmodularFunctionm">
<span id="_CPPv3N6Random6RandomEjR18SubmodularFunctionm"></span><span id="_CPPv2N6Random6RandomEjR18SubmodularFunctionm"></span><span id="Random::Random__unsigned-i.SubmodularFunctionR.unsigned-l"></span><span class="target" id="classRandom_1a45650fe37c2335a51e18549fe72e6470"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">Random</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">unsigned</span> <span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">K</span></span>, <a class="reference internal" href="classSubmodularFunction.html#_CPPv418SubmodularFunction" title="SubmodularFunction"><span class="n"><span class="pre">SubmodularFunction</span></span></a><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">f</span></span>, <span class="kt"><span class="pre">unsigned</span> <span class="pre">long</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">seed</span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">0</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6Random6RandomEjR18SubmodularFunctionm" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Construct a new <a class="reference internal" href="#classRandom"><span class="std std-ref">Random</span></a> object. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>K</strong> – The cardinality constraint you of the optimization problem, that is the number of items selected. </p></li>
<li><p><strong>f</strong> – The function which should be maximized. Note, that the clone function is used to construct a new <a class="reference internal" href="classSubmodularFunction.html#classSubmodularFunction"><span class="std std-ref">SubmodularFunction</span></a> which is owned by this object. If you implement a custom <a class="reference internal" href="classSubmodularFunction.html#classSubmodularFunction"><span class="std std-ref">SubmodularFunction</span></a> make sure that everything you need is actually cloned / copied. </p></li>
<li><p><strong>seed</strong> – The random seed used for randomization. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N6Random6RandomEjNSt8functionIF6data_tRKNSt6vectorINSt6vectorI6data_tEEEEEEEm">
<span id="_CPPv3N6Random6RandomEjNSt8functionIF6data_tRKNSt6vectorINSt6vectorI6data_tEEEEEEEm"></span><span id="_CPPv2N6Random6RandomEjNSt8functionIF6data_tRKNSt6vectorINSt6vectorI6data_tEEEEEEEm"></span><span class="target" id="classRandom_1a8d2665edfc729b12665a6238271315fb"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">Random</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">unsigned</span> <span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">K</span></span>, <span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">function</span></span><span class="p"><span class="pre">&lt;</span></span><a class="reference internal" href="typedef_DataTypeHandling_8h_1ae08b1e8a0b68c4dd03930dcb7eee61c6.html#_CPPv46data_t" title="data_t"><span class="n"><span class="pre">data_t</span></span></a><span class="p"><span class="pre">(</span></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">vector</span></span><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">vector</span></span><span class="p"><span class="pre">&lt;</span></span><a class="reference internal" href="typedef_DataTypeHandling_8h_1ae08b1e8a0b68c4dd03930dcb7eee61c6.html#_CPPv46data_t" title="data_t"><span class="n"><span class="pre">data_t</span></span></a><span class="p"><span class="pre">&gt;</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="p"><span class="pre">&amp;</span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">f</span></span>, <span class="kt"><span class="pre">unsigned</span> <span class="pre">long</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">seed</span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">0</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6Random6RandomEjNSt8functionIF6data_tRKNSt6vectorINSt6vectorI6data_tEEEEEEEm" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Construct a new <a class="reference internal" href="#classRandom"><span class="std std-ref">Random</span></a> object. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>K</strong> – The cardinality constraint you of the optimization problem, that is the number of items selected. </p></li>
<li><p><strong>f</strong> – The function which should be maximized. Note, that this parameter is likely moved and not copied. Thus, if you construct multiple optimizers with the <strong>same</strong> function they all reference the <strong>same</strong> function. This can be very efficient for state-less functions, but may lead to weird side effects if f keeps track of a state. </p></li>
<li><p><strong>seed</strong> – The random seed used for randomization. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N6Random3fitERKNSt6vectorINSt6vectorI6data_tEEEERKNSt6vectorI5idx_tEEj">
<span id="_CPPv3N6Random3fitERKNSt6vectorINSt6vectorI6data_tEEEERKNSt6vectorI5idx_tEEj"></span><span id="_CPPv2N6Random3fitERKNSt6vectorINSt6vectorI6data_tEEEERKNSt6vectorI5idx_tEEj"></span><span id="Random::fit__std::vector:std::vector:data_t::CR.std::vector:idx_t:CR.unsigned-i"></span><span class="target" id="classRandom_1a988704147ec0daf93de38d86e9f9ea98"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="k"><span class="pre">virtual</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">fit</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">vector</span></span><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">vector</span></span><span class="p"><span class="pre">&lt;</span></span><a class="reference internal" href="typedef_DataTypeHandling_8h_1ae08b1e8a0b68c4dd03930dcb7eee61c6.html#_CPPv46data_t" title="data_t"><span class="n"><span class="pre">data_t</span></span></a><span class="p"><span class="pre">&gt;</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">X</span></span>, <span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">vector</span></span><span class="p"><span class="pre">&lt;</span></span><a class="reference internal" href="typedef_DataTypeHandling_8h_1aebd6d4f4d1878f967fc3873d39646e74.html#_CPPv45idx_t" title="idx_t"><span class="n"><span class="pre">idx_t</span></span></a><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">ids</span></span>, <span class="kt"><span class="pre">unsigned</span> <span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">iterations</span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">1</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6Random3fitERKNSt6vectorINSt6vectorI6data_tEEEERKNSt6vectorI5idx_tEEj" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Randomly pick K elements as a solution. You can access the solution via <code class="docutils literal notranslate"><span class="pre">get_solution</span></code> and the ids can be accessed via <code class="docutils literal notranslate"><span class="pre">get_ids</span></code>. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p></p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X</strong> – A constant reference to the entire data set </p></li>
<li><p><strong>ids</strong> – A list of identifier for each object. This can be used to uniquely identify the objects in the summary. If ids.size() &lt; X.size(), then only partial ids are stored. No ids are stored if ids is empty. Make sure, that either <em>all</em> or <em>no</em> object receives an id to keep track which id belongs to which object. This algorithm simply stores the objects and the ids in two separate lists and performs no safety checks. </p></li>
<li><p><strong>iterations</strong> – Has no effect. <a class="reference internal" href="#classRandom"><span class="std std-ref">Random</span></a> samples K elements, no iterations required. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N6Random3fitERKNSt6vectorINSt6vectorI6data_tEEEEj">
<span id="_CPPv3N6Random3fitERKNSt6vectorINSt6vectorI6data_tEEEEj"></span><span id="_CPPv2N6Random3fitERKNSt6vectorINSt6vectorI6data_tEEEEj"></span><span id="Random::fit__std::vector:std::vector:data_t::CR.unsigned-i"></span><span class="target" id="classRandom_1a276e4f034fa09012364454dcdde85682"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="k"><span class="pre">virtual</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">fit</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">vector</span></span><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">vector</span></span><span class="p"><span class="pre">&lt;</span></span><a class="reference internal" href="typedef_DataTypeHandling_8h_1ae08b1e8a0b68c4dd03930dcb7eee61c6.html#_CPPv46data_t" title="data_t"><span class="n"><span class="pre">data_t</span></span></a><span class="p"><span class="pre">&gt;</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">X</span></span>, <span class="kt"><span class="pre">unsigned</span> <span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">iterations</span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">1</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6Random3fitERKNSt6vectorINSt6vectorI6data_tEEEEj" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Randomly pick K elements as a solution. You can access the solution via <code class="docutils literal notranslate"><span class="pre">get_solution</span></code>. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X</strong> – A constant reference to the entire data set </p></li>
<li><p><strong>iterations</strong> – Has no effect. <a class="reference internal" href="#classRandom"><span class="std std-ref">Random</span></a> samples K elements, no iterations required. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N6Random4nextERKNSt6vectorI6data_tEEKNSt8optionalI5idx_tEE">
<span id="_CPPv3N6Random4nextERKNSt6vectorI6data_tEEKNSt8optionalI5idx_tEE"></span><span id="_CPPv2N6Random4nextERKNSt6vectorI6data_tEEKNSt8optionalI5idx_tEE"></span><span id="Random::next__std::vector:data_t:CR.std::optional:idx_t:C"></span><span class="target" id="classRandom_1a6496273a5880b1ccd99d6df741f97c9c"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="k"><span class="pre">virtual</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">next</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">vector</span></span><span class="p"><span class="pre">&lt;</span></span><a class="reference internal" href="typedef_DataTypeHandling_8h_1ae08b1e8a0b68c4dd03930dcb7eee61c6.html#_CPPv46data_t" title="data_t"><span class="n"><span class="pre">data_t</span></span></a><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">x</span></span>, <span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">optional</span></span><span class="p"><span class="pre">&lt;</span></span><a class="reference internal" href="typedef_DataTypeHandling_8h_1aebd6d4f4d1878f967fc3873d39646e74.html#_CPPv45idx_t" title="idx_t"><span class="n"><span class="pre">idx_t</span></span></a><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">id</span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">nullopt</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6Random4nextERKNSt6vectorI6data_tEEKNSt8optionalI5idx_tEE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Consume the next object in the data stream. This call uses Reservoir Sampling to sample the current solution which can access via <code class="docutils literal notranslate"><span class="pre">get_solution</span></code>. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> – A constant reference to the next object on the stream. </p></li>
<li><p><strong>id</strong> – The id of the given object. If this is a <code class="docutils literal notranslate"><span class="pre">std::nullopt</span></code> this parameter is ignored. Otherwise the id is inserted into the solution. Make sure, that either <em>all</em> or <em>no</em> object receives an id to keep track which id belongs to which object. This algorithm simply stores the objects and the ids in two separate lists and performs no safety checks. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-protected-attributes">Protected Attributes</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N6Random3cntE">
<span id="_CPPv3N6Random3cntE"></span><span id="_CPPv2N6Random3cntE"></span><span id="Random::cnt__unsigned-i"></span><span class="target" id="classRandom_1a2544d7e79e68131c815c3dd4e4adfd23"></span><span class="kt"><span class="pre">unsigned</span> <span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">cnt</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">0</span></span><a class="headerlink" href="#_CPPv4N6Random3cntE" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N6Random9generatorE">
<span id="_CPPv3N6Random9generatorE"></span><span id="_CPPv2N6Random9generatorE"></span><span id="Random::generator__std::default_random_engine"></span><span class="target" id="classRandom_1a8ded3b834d1f72475364b4cc51dcdb3c"></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">default_random_engine</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">generator</span></span></span><a class="headerlink" href="#_CPPv4N6Random9generatorE" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-protected-static-functions">Protected Static Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N6Random26sample_without_replacementEiiRNSt21default_random_engineE">
<span id="_CPPv3N6Random26sample_without_replacementEiiRNSt21default_random_engineE"></span><span id="_CPPv2N6Random26sample_without_replacementEiiRNSt21default_random_engineE"></span><span id="Random::sample_without_replacement__i.i.std::default_random_engineR"></span><span class="target" id="classRandom_1a4f2b0af71d9569bbc1329323127c292a"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">vector</span></span><span class="p"><span class="pre">&lt;</span></span><a class="reference internal" href="typedef_DataTypeHandling_8h_1aebd6d4f4d1878f967fc3873d39646e74.html#_CPPv45idx_t" title="idx_t"><span class="n"><span class="pre">idx_t</span></span></a><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">sample_without_replacement</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">k</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">N</span></span>, <span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">default_random_engine</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">gen</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6Random26sample_without_replacementEiiRNSt21default_random_engineE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Sample k elements from the range <span class="math notranslate nohighlight">\( [1, N] \)</span> without replacement. Caller needs to make sure that <span class="math notranslate nohighlight">\( k \le N \)</span>. The runtime is <span class="math notranslate nohighlight">\( O(k) \)</span> and memory is <span class="math notranslate nohighlight">\( O(k) \)</span>. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Basically copied from <a class="reference external" href="https://www.gormanalysis.com/blog/random-numbers-in-cpp/#sampling-without-replacement">https://www.gormanalysis.com/blog/random-numbers-in-cpp/#sampling-without-replacement</a> </p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>k</strong> – The number of samples to be selected </p></li>
<li><p><strong>N</strong> – The upper bound of the interval to sample from </p></li>
<li><p><strong>gen</strong> – A random generator used for sampling </p></li>
</ul>
</dd>
<dt class="field-even">Returns The</dt>
<dd class="field-even"><p>sampled vector of indices </p>
</dd>
</dl>
</dd></dl>

</div>
</dd></dl>

</div>
</div>


                        
                    </div>
                </div>
            </div>
        </div>
    </div>    


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
    <script type="text/javascript" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/collapsible-lists/js/CollapsibleLists.compressed.js"></script>
    <script type="text/javascript" src="../_static/collapsible-lists/js/apply-collapsible-lists.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  
    <div class="footer" role="contentinfo">
        <div class="container">
            &#169; Copyright 2021, Sebastian Buschjäger.
        Created using <a href="http://sphinx-doc.org/">Sphinx</a> 4.0.3.
        </div>
    </div>  

</body>
</html>